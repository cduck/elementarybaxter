<!DOCTYPE html>
<html>
<head>
<title>Project Details - Elementary Baxter</title>
<meta name='keywords' content='robot, robotics, baxter, rethink, ee125, berkeley, cal, eecs, project' />

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link href="uploads/4/4/1/2/44122323/1418305224.png" rel="shortcut icon" type="image/x-icon" />
<link rel="stylesheet" href="external/sites.css" type="text/css" />
<link rel='stylesheet' type='text/css' href='external/fancybox.css' />
<link rel='stylesheet' type='text/css' href='files/main_style.css?1418459715' title='wsite-theme-css' />
<style type='text/css'>
.wsite-elements.wsite-not-footer div.paragraph, .wsite-elements.wsite-not-footer p, .wsite-elements.wsite-not-footer .product-block .product-title, .wsite-elements.wsite-not-footer .product-description, .wsite-elements.wsite-not-footer .wsite-form-field label, .wsite-elements.wsite-not-footer .wsite-form-field label, #wsite-content div.paragraph, #wsite-content p, #wsite-content .product-block .product-title, #wsite-content .product-description, #wsite-content .wsite-form-field label, #wsite-content .wsite-form-field label, .blog-sidebar div.paragraph, .blog-sidebar p, .blog-sidebar .wsite-form-field label, .blog-sidebar .wsite-form-field label {}
#wsite-content div.paragraph, #wsite-content p, #wsite-content .product-block .product-title, #wsite-content .product-description, #wsite-content .wsite-form-field label, #wsite-content .wsite-form-field label, .blog-sidebar div.paragraph, .blog-sidebar p, .blog-sidebar .wsite-form-field label, .blog-sidebar .wsite-form-field label {}
.wsite-elements.wsite-footer div.paragraph, .wsite-elements.wsite-footer p, .wsite-elements.wsite-footer .product-block .product-title, .wsite-elements.wsite-footer .product-description, .wsite-elements.wsite-footer .wsite-form-field label, .wsite-elements.wsite-footer .wsite-form-field label{}
.wsite-elements.wsite-not-footer h2, .wsite-elements.wsite-not-footer .product-long .product-title, .wsite-elements.wsite-not-footer .product-large .product-title, .wsite-elements.wsite-not-footer .product-small .product-title, #wsite-content h2, #wsite-content .product-long .product-title, #wsite-content .product-large .product-title, #wsite-content .product-small .product-title, .blog-sidebar h2 {}
#wsite-content h2, #wsite-content .product-long .product-title, #wsite-content .product-large .product-title, #wsite-content .product-small .product-title, .blog-sidebar h2 {}
.wsite-elements.wsite-footer h2, .wsite-elements.wsite-footer .product-long .product-title, .wsite-elements.wsite-footer .product-large .product-title, .wsite-elements.wsite-footer .product-small .product-title{}
#wsite-title {}
.wsite-menu-default a {}
.wsite-menu a {}
.wsite-image div, .wsite-caption {}
.galleryCaptionInnerText {}
.fancybox-title {}
.wslide-caption-text {}
.wsite-phone {}
.wsite-headline {}
.wsite-headline-paragraph {}
.wsite-button-inner {}
.wsite-not-footer blockquote, #wsite-com-product-tab blockquote {}
.wsite-footer blockquote {}
.blog-header h2 a {}
#wsite-content h2.wsite-product-title {}
.wsite-product .wsite-product-price a {}
</style>

<script><!--
var STATIC_BASE = '//cdn1.editmysite.com/';
var STYLE_PREFIX = 'wsite';
//-->
</script>
<script src='external/jquery.min.js'></script>
<script src='external/main.js'></script>
<script>_W.relinquish && _W.relinquish()</script>
<script type='text/javascript'><!--
var IS_ARCHIVE=1;
(function(jQuery){
function initFlyouts(){initPublishedFlyoutMenus([{"id":"312691998632544252","title":"Home","url":"index.html","target":""},{"id":"457086478466756015","title":"Demo","url":"demo.html","target":""},{"id":"637403256811352013","title":"Project Details","url":"project-details.html","target":""},{"id":"699920230350159767","title":"The Team","url":"the-team.html","target":""},{"id":"720758963277731631","title":"Additional Materials","url":"additional-materials.html","target":""}],"637403256811352013","<li><a href=\"#\" data-membership-required=\"\" >{{title}}<\/a><\/li>",'active',false)}
if (jQuery) {
jQuery(document).ready(function() { jQuery(initFlyouts); });
}else{
if (Prototype.Browser.IE) window.onload = initFlyouts;
else document.observe('dom:loaded', initFlyouts);
}
})(window._W && _W.jQuery)
//-->
</script>
</head>
<body class=' landing-page  wsite-theme-light wsite-page-project-details'>
<div id="header-wrap">
    <div class="container">
        <table id="header"><tr>
           <td id="logo"><span class='wsite-logo'><a href='index.html'><img src='uploads/4/4/1/2/44122323/1418305224.png' style='margin-top:-4px;' /></a></span></td>
           <td id="title"><span>Elementary Baxter</span></br><span id="subtitle">Solving math problems on a whiteboard.</span></td>
           <td id="header-right">
               <table>
                    <tr><td class="phone-number"></td></tr>
              </table>
              <div class="social"></div>
           </td>
       </tr></table>   
    </div>
</div>

<div id="topnav-wrap">
	<div class="container">
    	<table>
        	<tr>
            	<td>
                	<div id="topnav">
                        <ul class='wsite-menu-default'><li id='pg312691998632544252'><a href="index.html" data-membership-required="0" >Home</a></li><li id='pg457086478466756015'><a href="demo.html" data-membership-required="0" >Demo</a></li><li id="active"><a href="project-details.html">Project Details</a></li><li id='pg699920230350159767'><a href="the-team.html" data-membership-required="0" >The Team</a></li><li id='pg720758963277731631'><a href="additional-materials.html" data-membership-required="0" >Additional Materials</a></li></ul>
                        <div style="clear:both"></div>
                    </div>
                </td>
                <td><div class="search"></div></td>
            </tr>
        </table>
        <div style="clear:both;"></div>
    </div>
</div>

<div id="main2-wrap" class="wsite-background">
    <div class="container">
        <div id="main2">
		<div id="main2-inner">
		<div id="main2right">
            <div id="content"><div id='wsite-content' class='wsite-elements wsite-not-footer'>
<h2 class="wsite-content-title" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '>Introduction</span></h2>

<span class='imgPusher' style='float:right;height:281px'></span><span style='display: table;z-index:10;width:auto;position:relative;float:right;max-width:100%;;clear:right;margin-top:20px;*margin-top:40px'><a href='uploads/4/4/1/2/44122323/7035469_orig.jpg?1418656917' rel='lightbox' onclick='if (!lightboxLoaded) return false'><img src="uploads/4/4/1/2/44122323/7035469.jpg?1418656917" style="margin-top: 5px; margin-bottom: 10px; margin-left: 0px; margin-right: 10px; border-width:1px;padding:3px; max-width:100%" alt="Whiteboard after Baxter has written the solution" class="galleryImageBorder wsite-image" /></a><span style="display: table-caption; caption-side: bottom; font-size: 90%; margin-top: -10px; margin-bottom: 10px; text-align: center;" class="wsite-caption"></span></span>
<div class="paragraph" style="text-align:left;display:block;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(102, 102, 102); "></span></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Robots that can draw are cool. Robots that can understand what you draw are cool too. But robots that can understand what you draw, then draw in response to what it understood from your drawing, are super duper cool. For the final project, we made a super duper cool robot.<br /><br /><u>End Goals</u><br />The objective of our EE 125 Final Project was, as specified in our proposal, to program the Baxter robot to &ldquo;impressively interact&rdquo; with a human via drawings/writings on a small whiteboard.&nbsp; This entails giving Baxter the ability to:<br /></span></span></span></span></span></span></span><ol style=""><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Process visual data obtained from onboard camera(s) and isolate important information pertaining to the whiteboard of interest.</span></span></span></span></span></span></span></li><li style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="display:none;">_</span>Perform feats of real-world perception:<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; a.&nbsp; Transform groups of raw pixel information into manipulable data (character recognition).<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b.&nbsp; Location awareness.<br /></span></span></span></span></span></li><li style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">R<span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">ecognize     changes in the state of the environment while staying flexible  enough    to automatically recover from unexpected events/disturbances</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>.</li><li style="">Formulate appropriate response queues when an environment state meets particular criteria.</li><li style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Perform robust path planning for both of its anthropomorphic arms, in an effort to physically draw on the whiteboard.</span></span></span></span></span></span></span></span></span></span></span></span></li></ol></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span><span style=""><span style=""><span style=""></span></span></span><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">In demonstration of these abilities, we equipped Baxter with the ability to recognize simple math equations on the whiteboard (i.e. &ldquo;1+1=&rdquo;), along with the ability to write the corresponding solution to the equation (i.e. &ldquo;2&rdquo;) on the same whiteboard over the proper location (after the &ldquo;=&rdquo; sign).&nbsp; Using Baxter, our goal is to reflect our comprehensive understanding of sensory feedback, systems control, and information processing.<br /><br /><u>Why is this project interesting?</u><br />While designing the objectives and milestones of our final project, we had a variety of specific robotics related interests in mind - some of which were outside the scope of the class.&nbsp; Through this project, not only did we want to demonstrate a level of mastery with Baxter&rsquo;s ROS Topic API (as the culmination of all those well spent lab hours), but we also wanted to apply some supplementary knowledge acquired from other courses. Real world robotics is, after all, a wonderful potpourri of mechanical engineering, electrical engineering and computer science.&nbsp; The opportunity to explore the following specific topics was part of what made this project very interesting for us:<br /></span></span></span></span></span></span></span></span></span></span></span></span></span><ul><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">ARTag is a fiducial marker system known chiefly for its applications in augmented reality.&nbsp; We were excited to try it out as part of our whiteboard local awareness module.</span></span></span></span></span></span></span></span></span></span></span></span></span></li><li>We were enthusiastic to try out some computer vision algorithms with live real-world input, and to challenge ourselves to deal with variations in real-world illumination and noise.</li><li>We were also excited to experiment with robotic arms as advanced as Baxter&rsquo;s and learn the intricacies of his inverse kinematics library to make him write as neatly as possible.<br /></li></ul><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">On a broader level, our continual inspiration and motivation for the project came from the simple fact that our project concept felt &ldquo;futuristic&rdquo;.&nbsp; The idea that an interactive robot could respond to your personal queries on a physical canvas with its own handwriting&hellip; just feels like something pulled straight out of a sci-fi book written only a few years ago.&nbsp; Moreover, it is well known that studies in personal robotics and human-robot interaction are growing frontier fields in the computer science research community.&nbsp; Our shared enthusiasm for the opportunity to work on such an innovative concept was also part of what made this project very interesting for us.&nbsp;&nbsp;&nbsp;&nbsp; <br /><br /><u>Interesting Problems</u><br />Throughout the project, we experienced some very interesting problems that we had to solve (and/or work around) to get Baxter to reach end goals. Here are a few:<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span><ul><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Baxter&rsquo;s default inverse kinematics functions do not use linear interpolation, causing his arm to move erratically when told to move from one point to another.&nbsp; When writing on the whiteboard, this caused lines to be curved and would sometimes jam the pen into the whiteboard.&nbsp; This was solved by using linear interpolation between the points where the inverse kinematics was calculated for each point along the line.</span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li>Due to hardware limitations, the accuracy Baxter&rsquo;s arms was poor.&nbsp; As a result, we often ran into trouble moving his hands to exactly where we needed them to be to write on the whiteboard.&nbsp; Therefore, we developed a spring loaded marker to maintain contact with the surface while allowing for large variations in z-position.</li><li>Due to the reflectance of the whiteboard and the auto-adjusting features of Baxter&rsquo;s camera, it was a challenge to get our image pre-processing module (prior to character recognition) to work reliably and dynamically across a wide range of environment illumination.<br /></li></ul><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><br /><u>Real-World Applications</u><br />In the construction of the pipeline to get Baxter to meet end goals, we intentionally designed the system to be as flexible as possible. With an extrapolation of our software architecture, combined with stronger hardware and additional hard-coded features, the work from our project can be quite useful to many relevant real-world robotics applications - here&rsquo;s to name a few:<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span><ol><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Robot assistant: If a disabled/elderly person has difficulty communicating verbally and electronically, he/she can choose to write on a large whiteboard - the robot assistant can then proceed to process the information written on the whiteboard, and automatically respond accordingly (i.e. calling &lsquo;911&rsquo; if the person cannot speak nor dial a phone and draws &lsquo;911&rsquo;). A robot assistant can also serve food to the disabled/elderly, and automatically detect whether or not the person is finished with his/her meal based on the amount of food left on the served tray.</span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li>Factory Robots: Robots are already widely used to perform repetitive mass production tasks. The work from our project can provide the framework for a type of factory robot that can draw/interact with objects dynamically based on their orientation (i.e. write perfectly on packages that are not perfectly aligned with the conveyer belt).</li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Robot Art: 2D computer generated art can be very beautiful, but there are still many man-made artistic masterpieces that cannot be completely cloned using only image processing techniques. A good example would be watercoloring. Much of the artistic texture and beauty of watercoloring comes from the physical properties of the brush, paint/water, and light strokes. Using a robot to physically paint watercolor images would be a fantastic alternative to computer generated watercolor art.<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li></ol></span></span></span></span></span></span></span></span></div>
<hr style="width:100%;clear:both;visibility:hidden;"></hr>

<div><div style="height: 20px; overflow: hidden; width: 100%;"></div>
<hr class="styled-hr" style="width:100%;"></hr>
<div style="height: 20px; overflow: hidden; width: 100%;"></div></div>

<h2 class="wsite-content-title" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(74, 74, 74); ">Design<span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(74, 74, 74); "></span></span></span></span></span></span></span></span></span></span></h2>

<div class="paragraph" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><u><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); ">Design Criteria</span></u><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><ol style=""><li style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""> Ability to locate the whiteboard.<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; a.&nbsp; Pose estimation of the whiteboard to know where to look for the problem and where to write the solution.<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li style=""><span style=""><span style=""><span style=""><span style=""><span style="">Ability to read user input and detect when the user is finished writing.<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; a.&nbsp; Image processing of the camera image to eliminate noise and unwanted features and generate a clean black and white image of the input handwriting.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b.&nbsp; Robust character recognition of handwritten text and symbols to read a problem from the whiteboard along with the pixel locations of the characters.<br /></span></span></span></span></span></li><li style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Ability to find a solution to the detected problem.<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; a.&nbsp; Equation solving that can detect that the text is a valid equation and find its corresponding solution.<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li><li style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Ability to write the solution on the whiteboard.<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; a.&nbsp; Coordinate transformation from camera image to world coordinates to determine where the solution should be drawn.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b.&nbsp; Path planning of the solution text into a series of points in 3D space.<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; c.&nbsp; Coordinate transformation from the whiteboard frame to the world frame.<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; d.&nbsp; Inverse kinematics to generate a series of joint angles for the end effector (marker) to move through the solution math to draw the solution.<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li></ol></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span></span></span></span></span></span><br /><u>Desired Functionality</u><br />Some interesting &ldquo;impressive interactions&rdquo; involving writing on a whiteboard include feats<br /></span></span><ol><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="">User draws a simple math equation on the whiteboard (i.e. &ldquo;1+1&rdquo;), Baxter solves the equation by writing the solution on the board (i.e. &ldquo;=2&rdquo;).</span></span></li><li>User draws one or more smiley faces on the whiteboard, Baxter draws a mustache for each detected smiley face on the board.</li><li style=""><span style=""><span style=""><span style=""><span style="">User  draws a simple puzzle on the board (i.e. a magic square with empty  elements), Baxter solves the puzzle by drawing the solution on the board  (i.e. fill in the missing elements for the magic square).</span></span></span></span><br /></li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">[Tedious] Pre-program Baxter to visually distinguish edge information between a small list of different objects using machine learning algorithms. User sketches an object (i.e. car), Baxter writes the object label on the whiteboard (i.e. &ldquo;car&rdquo;).</span></span></span></span></span></li><li>[Tedious] User plays a simple game (i.e. Hangman, connect-4, tic-tac-toe) with Baxter.<br /></li></ol></span></span></span><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><br /><u>Design Choices</u><br />We chose to use ROS (Robot Operating System) because:<br /></span></span></span></span></span><ol><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">We were already familiar with it from our lab assignments.</span></span></span></span></span></li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">It already has many available libraries useful for robotic applications.</span></span></span></span></span></li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">It is already integrated into most robotic systems we could have chosen.</span></span></span></span></span></li></ol><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">We chose to use Baxter as opposed to another robotic system or building our own because:<br /></span></span></span></span></span><ol><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">The hardware was already built, provided for the class and had almost everything we needed.</span></span></span></span></span></li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">Baxter&rsquo;s arms have a very large reachable space and centimeter accuracy.</span></span></span></span></span></li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">Baxter has cameras on his wrists so they can be easily positioned wherever they are needed.</span></span></span></span></span></li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">Baxter is controlled by ROS and provides coordinate transformation and inverse kinematics libraries.</span></span></span></span></span></li></ol><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">We chose to constrain the human-robot interaction to a whiteboard because:<br /></span></span></span></span></span></span><ol><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">It provides a solid white background for vision.</span></span></span></span></span></span></li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">Whiteboard markers provide thick, colored lines easily distinguishable from the background by hue even when there are bright reflections.</span></span></span></span></span></span></li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">It provides a large planar surface for Baxter to write on.</span></span></span></span></span></span></li></ol><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">We choose to place the whiteboard in a mostly horizontal orientation because:<br /></span></span></span></span></span></span><ol><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">Baxter&rsquo;s arms are designed to be used in a horizontal workspace such as a table or conveyor belt and therefore has a much greater range of motion horizontally around his waist level than on a vertical plane in front of him.</span></span></span></span></span></span></li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">Baxter and the user can stand on opposite sides of the whiteboard so they don&rsquo;t get in each other&rsquo;s way but Baxter must write upside down so the user can read it.</span></span></span></span></span></span></li><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">Baxter can write the answer upside down just as easily as the other way.</span></span></span></span></span></span></li></ol><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">We choose to use AR Tags to locate the whiteboard because:<br /></span></span></span></span></span></span></span><ol><li><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style="">There is already an open source library that finds the 3D transform of the tags.</span></span></span></span></span></span></span></li></ol><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><br /><u>Design Tradeoffs</u><br />Due to time constraints, we were only able to program Baxter to be able to perform feat 1.&nbsp; Given more time, the problem solving code could have been expanded to more than just basic math problems.&nbsp; Because Baxter only needed to read basic math problems, we were able to restrict the character recognition character set to just numerals, arithmetic operation symbols and the equals sign to improve the accuracy of the results.<br /><br />Because of issues with calibrating Baxter&rsquo;s camera, the AR tags were very inaccurate and the calculated location of the whiteboard was not accurate enough to draw on it.&nbsp; Therefore the pose of the whiteboard had to be hard coded.<br /><br />The first step of image processing depended on hue to identify the marker but the lighting conditions cause the whiteboard to appear blue on the camera.&nbsp; To solve this, we only used red and orange markers.<br /><br /><u>Final Design</u><br />We choose to include all initial design choices for our final design.<br /></span></span></span></span></span></span></span></span></div>

<div><div style="height: 20px; overflow: hidden; width: 100%;"></div>
<hr class="styled-hr" style="width:100%;"></hr>
<div style="height: 20px; overflow: hidden; width: 100%;"></div></div>

<h2 class="wsite-content-title" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); ">Implementation<br /></span></span></span></span></span></span></h2>

<span class='imgPusher' style='float:right;height:81px'></span><span style='display: table;z-index:10;width:898px;position:relative;float:right;max-width:100%;;clear:right;margin-top:20px;*margin-top:40px'><a href='uploads/4/4/1/2/44122323/211659_orig.png?880' rel='lightbox' onclick='if (!lightboxLoaded) return false'><img src="uploads/4/4/1/2/44122323/211659.png?880" style="margin-top: 5px; margin-bottom: 10px; margin-left: 0px; margin-right: 10px; border-width:1px;padding:3px; max-width:100%" alt="Baxter" class="galleryImageBorder wsite-image" /></a><span style="display: table-caption; caption-side: bottom; font-size: 90%; margin-top: -10px; margin-bottom: 10px; text-align: center;" class="wsite-caption"></span></span>
<div class="paragraph" style="text-align:left;display:block;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(102, 102, 102); "></span></span></span></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">The Hardware:<br /><br /><u>Baxter</u><br />The robotics system we used in this project was Baxter, a robot make by <a title="" target="_blank" href="http://www.rethinkrobotics.com/">Rethink Robotics</a>.&nbsp; He is controlled through <a title="" target="_blank" href="http://www.ros.org/">ROS (Robot Operating System)</a> from a Linux desktop computer running our software.&nbsp; He has two 7 degree of freedom arms each with a camera mounted in the wrist.<br /><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<hr style="width:100%;clear:both;visibility:hidden;"></hr>

<span class='imgPusher' style='float:right;height:47px'></span><span style='display: table;z-index:10;width:896px;position:relative;float:right;max-width:100%;;clear:right;margin-top:20px;*margin-top:40px'><a href='uploads/4/4/1/2/44122323/8787756_orig.png?250' rel='lightbox' onclick='if (!lightboxLoaded) return false'><img src="uploads/4/4/1/2/44122323/8787756.png?876" style="margin-top: 5px; margin-bottom: 10px; margin-left: 0px; margin-right: 10px; border-width:1px;padding:3px; max-width:100%" alt="Whiteboard" class="galleryImageBorder wsite-image" /></a><span style="display: table-caption; caption-side: bottom; font-size: 90%; margin-top: -10px; margin-bottom: 10px; text-align: center;" class="wsite-caption"></span></span>
<div class="paragraph" style="text-align:left;display:block;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><u style="">Whiteboard</u><br /><br />Just a regular 3 by 2 foot whiteboard placed on a table.<br /><br /><br /><br /><u>Spring Loaded Marker</u><span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<hr style="width:100%;clear:both;visibility:hidden;"></hr>

<div><div class="wsite-multicol"><div class="wsite-multicol-table-wrap" style="margin:0 -15px;">
	<table class="wsite-multicol-table">
		<tbody class="wsite-multicol-tbody">
			<tr class="wsite-multicol-tr">
				<td class="wsite-multicol-col" style="width:50%; padding:0 15px;">
					
						

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:right">
<a href='uploads/4/4/1/2/44122323/9440824_orig.jpg?428' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/9440824.jpg?428" alt="Spring loaded marker drawing" style="width:428;max-width:100%" />
</a>
<div style="display:block;font-size:90%"></div>
</div></div>

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:right">
<a href='uploads/4/4/1/2/44122323/2234218_orig.jpg?430' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/2234218.jpg?430" alt="Spring loaded marker assembled" style="width:430;max-width:100%" />
</a>
<div style="display:block;font-size:90%"></div>
</div></div>


					
				</td>				<td class="wsite-multicol-col" style="width:50%; padding:0 15px;">
					
						

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:left">
<a href='uploads/4/4/1/2/44122323/2070244_orig.jpg?428' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/2070244.jpg?428" alt="Spring loaded marker compressed" style="width:428;max-width:100%" />
</a>
<div style="display:block;font-size:90%"></div>
</div></div>

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:left">
<a href='uploads/4/4/1/2/44122323/8829465_orig.jpg?502' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/8829465.jpg?502" alt="Spring loaded marker disassembled" style="width:502;max-width:100%" />
</a>
<div style="display:block;font-size:90%"></div>
</div></div>


					
				</td>			</tr>
		</tbody>
	</table>
</div></div></div>

<div class="paragraph" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Made   from spare parts we had lying around, it consists of a PVC pipe  housing  with a cap at one end and contains a large compression spring  at the  top with a whiteboard marker attached to the lower end of the  spring.&nbsp;  There is a piece of plastic tubing to connect the marker to  the spring  and there is a cardboard tube around the pen to restrict  lateral motion  of the marker.&nbsp; The spring allows for about half an inch  of error in  Baxter&rsquo;s arm position up or down along the z-axis.&nbsp; This  assembly is  strapped to Baxter&rsquo;s left wrist as shown above.<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>

<span class='imgPusher' style='float:right;height:45px'></span><span style='display: table;z-index:10;width:906px;position:relative;float:right;max-width:100%;;clear:right;margin-top:20px;*margin-top:40px'><a href='uploads/4/4/1/2/44122323/5075071_orig.png?896' rel='lightbox' onclick='if (!lightboxLoaded) return false'><img src="uploads/4/4/1/2/44122323/5075071.png?896" style="margin-top: 5px; margin-bottom: 10px; margin-left: 0px; margin-right: 10px; border-width:0; max-width:100%" alt="Architecture and Data Flow" class="galleryImageBorder wsite-image" /></a><span style="display: table-caption; caption-side: bottom; font-size: 90%; margin-top: -10px; margin-bottom: 10px; text-align: center;" class="wsite-caption">Architecture and Data Flow</span></span>
<div class="paragraph" style="text-align:left;display:block;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Software:<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><br /><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""></span><span style=""></span><span style=""></span><br /><u>Image Processing</u><br />The    role of the image processing module is to prepare the raw visual    information from Baxter&rsquo;s right arm camera, perform noise reduction    techniques, segment the whiteboard from the background, identify    particular areas of interest on the whiteboard, isolate and prepare    these areas of interest for character recognition.&nbsp; First, a custom ROS    node listens to the camera node and continually captures screenshots.&nbsp;    Published BGR8 data from the camera node is converted into an RGB PNG    image and saved to disk.&nbsp; This image is then sent through a router via Ethernet cables to a Windows computer that runs MATLAB where the  actual   image processing portion begins.<br /><br />Baxter&rsquo;s arm cameras are  quite   prone to &ldquo;fuzzy&rdquo; artifacts. To normalize this, the screenshot  image is   passed through a Gaussian filter with an empirically chosen  kernel size   of 5 and a sigma value of 2.<span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<hr style="width:100%;clear:both;visibility:hidden;"></hr>

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:center">
<a href='uploads/4/4/1/2/44122323/4726121_orig.png?491' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/4726121.png?491" alt="Prior to filtering." style="width:491;max-width:100%" />
</a>
<div style="display:block;font-size:90%">Prior to filtering.</div>
</div></div>

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:center">
<a href='uploads/4/4/1/2/44122323/3487290_orig.png?498' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/3487290.png?498" alt="After filtering." style="width:498;max-width:100%" />
</a>
<div style="display:block;font-size:90%">After filtering.</div>
</div></div>

<div class="paragraph" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">The     filtered image is passed through two pipelines: the first generates a     binary mask used to isolate the whiteboard from the background,  while    the second isolates the text of interest by filtering via the  HSV  color   space.<br /><br />Pipeline 1<br /><br />The Gaussian filtered image is  first  converted   to grayscale.&nbsp; 1-dimensional 2-means clustering using  uniform  initial   cluster centroid positions is performed over the raw  single  channel   pixel values.&nbsp; Conceptually, this converts the image   dynamically (with a   relative rather than parametric threshold) into a   binary image where  the  &lsquo;brighter&rsquo; pixels are separated from the   &lsquo;darker&rsquo; pixels.&nbsp; The  binary  image is cropped by 20% on all sides and   its pixel values are  averaged  together.&nbsp; If this value is less than the   average pixel value  of the  binary image prior to cropping, then the   binary image is  inverted.&nbsp; This  produces consistent mask labeling for   whiteboard vs  background,  regardless of swapped k-means pixel   labeling.&nbsp; We then  proceed to filter  additional noise from the binary   image by removing  all 8-connected  components with pixel area of less   than some small  threshold.&nbsp; The  resulting binary image is returned as a   mask for the  whiteboard vs the  background.<span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:center">
<a href='uploads/4/4/1/2/44122323/3979112_orig.png?498' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/3979112.png?498" alt="Resulting mask (whiteboard vs background) from pipeline 1." style="width:498;max-width:100%" />
</a>
<div style="display:block;font-size:90%">Resulting mask (whiteboard vs background) from pipeline 1.</div>
</div></div>

<div class="paragraph" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Pipeline 2<br /><br />The      Gaussian filtered RGB color image is converted into HSV space - the     Hue  channel is then isolated.&nbsp; All pixel intensity values in this     channel  are shifted cross the Hue scale by a small value in order to     make the  color &lsquo;red&rsquo; more easily captured (since the default HSL/HSV     encodings of  RGB has red on both sides of the spectrum).&nbsp; All of the     other major  rainbow colors should theoretically remain just as easy  to    capture  (aside from maybe purple, depending on the shift value).&nbsp;  We    then use one  of two ways to isolate the text from the whiteboard.&nbsp;  For    the first  method, the mask generated by the first pipeline is  applied    over the Hue  channel, followed by 1-dimensional 2-means  clustering    using uniform  initial cluster centroid positions over the  raw pixel    values.&nbsp; The  centroid labeling the pixels that make up the  &lsquo;text area&rsquo;    on the  whiteboard is isolated by comparing the average  pixel  saturation   values  in between the 2 clusters.&nbsp; The conceptual  idea of  this is to   isolate  &lsquo;color&rsquo; (text) from &lsquo;no color&rsquo;  (whiteboard).&nbsp;  Although this   method is  more flexible, less ad hoc,  and more dynamic  to varying   marker colors,  we had much cleaner  results using the  following   observation-based method  with a  red/orange marker.&nbsp; After  applying the   binary mask from the first   pipeline over the Hue  channel, we can   perform 1-dimensional 3-means   clustering using  uniform initial cluster   centroid positions over the  raw  pixel values.&nbsp; Environmental   illumination over the whiteboard in  both  the Cory lab  and the Woz is   generally more aligned with the  darker hues   (green/blue/purple), and so   the smallest cluster  returned from k-means   was almost always the   red/orange colored text  on the whiteboard (we  used  this method for our   live demos).&nbsp; After  either text vs.  whiteboard  isolation method,   additional noise is  filtered from the  binary image by  again, removing   all 8-connected  components with pixel  area of less than  some small   threshold.<span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:center">
<a href='uploads/4/4/1/2/44122323/2007976_orig.png?498' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/2007976.png?498" alt="Text-isolated binary image." style="width:498;max-width:100%" />
</a>
<div style="display:block;font-size:90%">Text-isolated binary image.</div>
</div></div>

<div class="paragraph" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">The     sides of the   binary image are then trimmed by vertical/horizontal     projection. At   the end of the image processing module, pipeline 2     returns a relatively   clean binary image of the text of interest,     captured from the   whiteboard.</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:center">
<a href='uploads/4/4/1/2/44122323/3926765_orig.png' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/3926765_orig.png" alt="Trimmed text image." style="width:auto;max-width:100%" />
</a>
<div style="display:block;font-size:90%">Trimmed text image.</div>
</div></div>

<div class="paragraph" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><u>Character Recognition</u><br />The       binary image from the image processing module is then passed into <a target="_blank" href="https://code.google.com/p/tesseract-ocr/">Tesseract</a>, an open source optical character recognition engine.&nbsp; We       initially tried to implement character recognition by hand,  following      the project proposal.&nbsp; The original method was as follows.&nbsp;  Using   vertical    projection over the binary image, followed by  smoothing   convolution   and  minima detection, we segmented the text  in the binary   image into    individual characters (but very  susceptible to noise).   Each individual    character image is trimmed  and a corresponding   spatial PHOG (Pyramidal    Histogram of Oriented  Gradients) feature   vector (L2 normalized    orientation histograms  with 10 bins resolved by   modular arithmetic) is    constructed.&nbsp;  Typically feature vectors at   this point should be passed    through a  Multiclass SVM for   identification. Realizing that we had a    lack of  training data for   mathematical symbols such as &lsquo;+&rsquo; and &lsquo;=&rsquo;, we     tried various distance   metrics over pre-made character templates for     identification just to   see how far we could get.&nbsp; Overall performance  was    not reliable, and   so we planned to implement the shape  recognition    algorithm we did in   class during the labs.&nbsp; However, due  to time    constraints, we   ultimately decided to find a robust OCR  engine to    perform the   character recognition for us.&nbsp; Tesseract was  our best option.&nbsp; After   inserting the binary image from the image  processing module  into Tesseract, we output the recognition results  into a text file.&nbsp; We  also     retrieve information regarding the  bounding boxes for the  detected     characters, and use this  information to compute an estimate  for the     location of where Baxter  should begin writing the solution to  the  math    equation.&nbsp; This  information is also added to the text file  with  the    recognition  results.&nbsp; The finalized text file is sent to the   Linux    computer for  the equation detect and solve module.<span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:center">
<a href='uploads/4/4/1/2/44122323/2060014_orig.png' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/2060014_orig.png" alt="Bounding box corners for detected characters.  Top left corners (green) and bottom right corners (blue)." style="width:auto;max-width:100%" />
</a>
<div style="display:block;font-size:90%">Bounding box corners for detected characters.  Top left corners (green) and bottom right corners (blue).</div>
</div></div>

<div><div class="wsite-image wsite-image-border-medium " style="padding-top:10px;padding-bottom:10px;margin-left:0;margin-right:0;text-align:center">
<a href='uploads/4/4/1/2/44122323/7334886_orig.png?502' rel='lightbox' onclick='if (!lightboxLoaded) return false'>
<img src="uploads/4/4/1/2/44122323/7334886.png?502" alt="Automatically estimated location on the whiteboard where Baxter should start writing the solution to the math problem.  At least two points are necessary to determine font size. Since the whiteboard locations are hard coded into Baxter, these coordinates can be quickly transformed into 3D locations to be passed into the font path generator module." style="width:502;max-width:100%" />
</a>
<div style="display:block;font-size:90%">Automatically estimated location on the whiteboard where Baxter should start writing the solution to the math problem.  At least two points are necessary to determine font size. Since the whiteboard locations are hard coded into Baxter, these coordinates can be quickly transformed into 3D locations to be passed into the font path generator module.</div>
</div></div>

<span class='imgPusher' style='float:right;height:343px'></span><span style='display: table;z-index:10;width:604px;position:relative;float:right;max-width:100%;;clear:right;margin-top:20px;*margin-top:40px'><a href='uploads/4/4/1/2/44122323/3682071_orig.jpg?585' rel='lightbox' onclick='if (!lightboxLoaded) return false'><img src="uploads/4/4/1/2/44122323/3682071.jpg?585" style="margin-top: 5px; margin-bottom: 10px; margin-left: 10px; margin-right: 0px; border-width:1px;padding:3px; max-width:100%" alt="Picture" class="galleryImageBorder wsite-image" /></a><span style="display: table-caption; caption-side: bottom; font-size: 90%; margin-top: -10px; margin-bottom: 10px; text-align: center;" class="wsite-caption"></span></span>
<div class="paragraph" style="text-align:left;display:block;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><u>Pose Calculation of Whiteboard</u><br />For    finding    the pose  (position and orientation) of the whiteboard, we    attached   an  ARTag to  the top right corner of the whiteboard.&nbsp; We   ran the     <a target="_blank" href="http://wiki.ros.org/ar_track_alvar">ar_track_alvar</a> ROS  node     which is a ROS wrapper  for the <a target="_blank" href="http://virtual.vtt.fi/virtual/proj2/multimedia/alvar/index.html">  ALVAR</a> library to        publish the location in the world frame of any ARTags visible from        Baxter&rsquo;s right hand camera.&nbsp; The node was aware that the camera was  at       the end of the arm and transformed the location and orientation  of   the     tag from the frame of the camera to the world frame based  on  the    current   joint angles and the kinematics stored in Baxter&rsquo;s  <a target="_blank" href="http://wiki.ros.org/urdf/XML/model">URDF   file</a>.<br /><br />The   ARTag&rsquo;s  pose is     equivalent to the pose of the whiteboard, so once   the tag is    recognized   and located, its transformation matrix is   sent to the  ROS   node that   generates the output path of the   solution.&nbsp; Because of    issues with the   accuracy of the ARTags due to   incomplete camera    calibration, this was   not accurate enough to be   able to write on the    board so the transform of   the tag is  replaced  with a fixed    transformation matrix for the   whiteboard.<br /><br /><u>Equation Detect and Solve</u><br />This      is implemented as a   custom ROS node written in Python that simply      takes in a string of  text  from character recognition as the input   and    sends a string of text  as  the solution to be drawn on the    whiteboard   if one exists, otherwise  it  outputs nothing.&nbsp; To detect    if the user  is  finished writing, it  waits  for the input to end in  an   equals  sign.&nbsp;  If it doesn&rsquo;t see an  equals  sign it assumes the  user   is not  finished  yet and does nothing.&nbsp;  When it  sees an equals   sign,  it then  tries to  evaluate it using  Python&rsquo;s built  in eval()    function.&nbsp; If  there is an  error, it assumes it  misread the   equation   and continues  waiting; if it  succeeds, it sends  its  solution to    another node to be  drawn.<br /><br /><u>Generate Font Path of Solution</u><br />This       is also a custom  ROS node written in Python.&nbsp; Is has a library of      paths  that we wrote  by hand for the letters A through Z, digits 0   to  9,   about  20  symbols, and a smiley face.&nbsp; Each path consists of  a   list of   2D   points that if traced, will draw the character.&nbsp;    Unfortunately, we   did   not have the opportunity to use most of these.<br /><br />When,    the   node   receives the solution string to draw, it takes each    character in   the   string and chains together the path for each one    from the library    and  generates a list of 3D points.&nbsp; In between each    character is a    point  with non-zero z-position to raise the   marker.&nbsp;  These points are    in the  whiteboard coordinate frame and   are first  translated across the     whiteboard to the location directly   after  where the equals sign was     located and then transformed to   the world  frame using the pose of the     whiteboard received earlier.&nbsp;   This  transformed list of points is  then    sent to the inverse   kinematics  library where they are linearly     interpolated and   converted to a  series joint angles for Baxter to     follow.&nbsp; This   results is Baxter  writing the solution.<br /><br /><u>Inverse Kinematics</u><br />This       is handled  by the <a title="" target="_blank" href="http://moveit.ros.org/">MoveIt!</a> library    that    comes  with the Baxter SDK.&nbsp; We use it for calculating the  path   to  move    baxter&rsquo;s arms quickly to different points and also  for   precise   movement   while linearly interpolating between points.&nbsp;    Inverse   kinematics is  used  to move the right arm with the camera  to a   point   above the  whiteboard  and also to move the left arm with  the   marker   either out of  the way of  the camera or, when writing  the   solution,   over the board.&nbsp;  It switches  to slower, more precise    movement when   drawing a solution.<span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>
<hr style="width:100%;clear:both;visibility:hidden;"></hr>

<div><div style="height: 20px; overflow: hidden; width: 100%;"></div>
<hr class="styled-hr" style="width:100%;"></hr>
<div style="height: 20px; overflow: hidden; width: 100%;"></div></div>

<h2 class="wsite-content-title" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); ">Results<br /></span></span></span></h2>

<div class="paragraph" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(102, 102, 102); "></span></span></span></span></span></span></span></span><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style="">Baxter successfully reads math problems from the whiteboard and writes the correct answer after the equals sign.&nbsp; The interactive aspect also works, we can also erase his solution or change the problem on the fly and Baxter will continue finding the solution to the newest problem and writing the answer as long as he sees a math problem.&nbsp; The only issue is that occasionally, he will misread the problem such as seeing a 4 instead of a 9 and write the incorrect answer.<br /><br />We did not implement any of our stretch goals and we had to simplify a few components of the project such as the pose estimation of the whiteboard and the character recognition to be able to complete the project by the deadline.&nbsp; However, our project meets our initial requirements and works well anyways.<br /><br />Our video shows one continuous interaction without us touching the computers.&nbsp; You can see Baxter misread the first couple times but afterward read it correctly.&nbsp; <a title="" target="_blank" href="http://youtu.be/y0e8BP7mkic?t=4m55s">Skip to 4:55 to see a successful demonstration.<br /></a><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></div>

<div class="wsite-youtube" style="margin-bottom:10px;margin-top:10px;"><div class="wsite-youtube-wrapper wsite-youtube-size-auto wsite-youtube-align-center">
<div class="wsite-youtube-container">

<iframe src="http://www.youtube.com/embed/y0e8BP7mkic?wmode=opaque" frameborder="0" allowfullscreen></iframe>
</div>
</div></div>

<div><div style="height: 20px; overflow: hidden; width: 100%;"></div>
<hr class="styled-hr" style="width:100%;"></hr>
<div style="height: 20px; overflow: hidden; width: 100%;"></div></div>

<h2 class="wsite-content-title" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); ">Conclusion</span></span></span></h2>

<div class="paragraph" style="text-align:left;"><span style='text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); '><u><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(94, 94, 94); "><span style="text-decoration:none; font-style:normal; font-weight:400; color:rgb(102, 102, 102); "></span></span></span></span></span></span></span></span></u><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><span style=""><u>Discussion</u><br />Although we were unable to implement any additional features or stretch goals, our finished solution met our expectations and did well to satisfy the goals that were initially outlined in our project proposal.&nbsp; Our implementation for Baxter also performed surprisingly well during the live demos.&nbsp; He was able to effectively demonstrate the ability to read different math equations on the whiteboard and write the corresponding solutions after the &lsquo;=&rsquo; sign with a marker.&nbsp; However, as detailed above, due to a few obstacles we were unable to specifically meet all of the design criteria, including ARTag based pose estimation and custom OCR.<br /><br /><u>Difficulties</u><br />During implementation, we encountered a variety of problems, both big and small.&nbsp; One of the more interesting technical difficulties that we have had to experience (and not mentioned above) was the unavailability of administrative permissions on the Linux computer to use MATLAB and perform some other package installations.&nbsp; Hence, most of the image processing was performed on a Windows computer linked through the router via ethernet cables. <br />On a more relevant level, we experienced difficulties through nearly every step of development.&nbsp; We experienced noise problems during the image processing module, but ended up formulating an alternative method that was less dynamic, but gave better results for the situation. We had difficulties with our custom implementation of character recognition, so we ended up using an official OCR engine, which gave fantastic results.&nbsp; We ran into accuracy problems using the ARTags for pose estimation, so we hardcoded the position and orientation of the whiteboard into Baxter.&nbsp; We had trouble dealing with Baxter&rsquo;s default inverse kinematics library, which caused erratic arm movements, so we used linear interpolation to smooth his movements in between points. Overall, we did run into difficulties, but in the end, we still found workarounds in order to achieve our project goals.<br /><br /><u>Further Improvements</u><br />The first notable flaw that our system has involves the second pipeline in the image processing module.&nbsp; To achieve cleaner text images and ultimately better character recognition results, we used an alternative noise filtering and text-isolating approach that took advantage of the hue contrasts between the blue/green/purple environment illumination in the Cory lab/Woz room and the bright red/orange marker drawings.&nbsp; With more time, we would have tried experimenting with smarter and more hue-dynamic text isolating approaches that worked just as well.&nbsp; A second notable flaw that our system has involves the replacement of a fixed transformation matrix for the whiteboard pose estimation module.&nbsp; Given additional time, we would have also tried to experiment with alternative methods to estimate the orientation and position of the whiteboard relative to Baxter&rsquo;s coordinate system.<br /><span style=""><span style=""><span style=""><span style=""></span></span></span></span></span></span></span></span></span></span></span></span></span></div></div>
</div>
		</div>
        </div>
        </div>
    </div>
</div>

<div id="footer-wrap">
	<div class="container">
		<div id="footer">Create a <a target="_top" href="http://www.weebly.com/">free web site</a> with <a target="_top" href="http://www.weebly.com/" title="free web site">Weebly</a></div>
    </div>
</div>





<script type="text/javascript">

/*
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"<\/script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);




var menuIndex = 3;
var subMenus = [
[true, "#0", "Introduction"],
[true, "#1", "Design"],
[true, "#2", "Implementation"],
[true, "#3", "Results"],
[true, "#4", "Conclusion"]
];

function addMenus() {
// Add extra menus
var menuStart = "<div class='wsite-menu-wrap' style='display:none'><ul class='wsite-menu'>";
var menuItem1 = "<li id='wsite-nav-699920230350159767'><a href='";
// /the-team.html
var menuItem2 = "' ><span class='wsite-menu-title'>";
// The Team
var menuItem3 = '</span></a></li>';
var menuEnd = '</ul></div>';

var menuStr = menuStart;

function addItem(url, title) {
  menuStr += menuItem1 + url + menuItem2 + title + menuItem3;
}
var item;
for (i in subMenus) {
  var item = subMenus[i];
  var url = item[1];
  if (item[0]) {
    url = jQuery("#topnav > ul > li:nth-child("+menuIndex+") > a:first-child").attr('href') + url;
  }
  addItem(url, item[2]);
}

menuStr += menuEnd;

jQuery("#topnav > ul > li:nth-child("+menuIndex+")").append(menuStr);
}



function jumpToSectionOnLoad() {
  var hash = window.location.hash.substring(1);
  var num = parseInt(hash);
  if (num || num==0) {
    window.scrollTo(0, jQuery('#wsite-content .wsite-content-title:nth-of-type('+(num+1)+')').offset().top-13);
  }
}
jQuery(window).hashchange(jumpToSectionOnLoad);



var oldFunc = window.initPublishedFlyoutMenus;
window.initPublishedFlyoutMenus = function (i, n, o, s, r) {
  addMenus();

  // Generate all menus
  oldFunc(i, n, o, s, r);

  jumpToSectionOnLoad();
}

</script></body>
</html>
